<!-- destinos.component.html -->
<div class="container">
  <div class="user-panel">
    <div class="header-row">
      <button class="back-button" (click)="goBack()">Volver</button>
      <h1 class="form-title">Historial de Destinos</h1>
    </div>

    <!-- Loading overlay -->
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="spinner"></div>
      <p>Cargando tus destinos...</p>
    </div>

    <div *ngIf="!isLoading && ubicaciones.length > 0">
      <div class="map-container">
          <div id="map-destinos" class="map"></div>
      </div>

      <div class="stats-box">
          <div class="stat-item">
              <span class="stat-number">{{ ubicaciones.length }}</span>
              <span class="stat-label">Destinos únicos</span>
          </div>
          <div class="stat-item">
              <span class="stat-number">{{ getTotalPaises() }}</span>
              <span class="stat-label">Países visitados</span>
          </div>
      </div>

      <div class="location-list">
          <div *ngFor="let ubicacion of ubicaciones" class="location-card">
              <div class="location-header">
                  <i class="fas fa-map-marker-alt"></i>
                  <h3>{{ ubicacion.ciudad }}</h3>
              </div>
              <div class="location-details">
                  <p><strong>País:</strong> {{ ubicacion.pais }}</p>
                  <p><strong>Zona Horaria:</strong> {{ ubicacion.zonaHoraria }}</p>
                  <p><strong>Coordenadas:</strong> 
                      <span class="coordinates">
                          {{ formatCoordinate(ubicacion.latitud) }}, 
                          {{ formatCoordinate(ubicacion.longitud) }}
                      </span>
                  </p>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>